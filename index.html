<!DOCTYPE html>
<html lang="en">
<head>
    <style>html,body{background:#050a07}.nav-overlay{position:fixed;inset:0;background:#050a07;z-index:9999;opacity:0;pointer-events:none;transition:opacity 50ms}.nav-overlay.active{opacity:1}</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Otherwind</title>
    <meta name="description" content="Human intuition meets AI capability.">
    <meta name="theme-color" content="#0a1a12">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://otherwind.xyz/">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://otherwind.xyz/">
    <meta property="og:title" content="Otherwind">
    <meta property="og:description" content="Human intuition meets AI capability.">
    <meta property="og:image" content="https://otherwind.xyz/og-image.png">
    <meta property="og:site_name" content="Otherwind">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://otherwind.xyz/">
    <meta name="twitter:title" content="Otherwind">
    <meta name="twitter:description" content="Human intuition meets AI capability.">
    <meta name="twitter:image" content="https://otherwind.xyz/og-image.png">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåø</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;1,400&family=IBM+Plex+Sans:wght@300;400;500&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400&family=IBM+Plex+Sans:wght@300;400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #0a1a12;
            --bg-mid: #0f2318;
            --accent: #4fd1a5;
            --fg: #e8efe9;
            --fg-muted: rgba(232, 239, 233, 0.6);
        }

        html, body {
            background: #050a07;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(180deg, #050a07 0%, #081210 50%, #0a1812 100%);
            font-family: 'IBM Plex Sans', -apple-system, sans-serif;
            color: var(--fg);
        }
        
        /* Page transitions */
        body {
            opacity: 0;
            animation: fadeIn 0.25s ease forwards;
        }
        
        body.fade-out {
            animation: fadeOut 0.15s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        canvas { display: block; }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 2rem;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: opacity 0.5s ease;
        }

        .logo {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 1.4rem;
            font-weight: 400;
            font-style: italic;
            letter-spacing: 0.05em;
            color: var(--fg);
            margin: 0;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

/* Shape label - minimal, no copy */
        .shape-label {
            position: fixed;
            padding: 0.8rem 1.5rem;
            background: rgba(10, 26, 18, 0.9);
            border: 1px solid rgba(79, 209, 165, 0.3);
            text-align: center;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            z-index: 200;
            backdrop-filter: blur(10px);
            white-space: nowrap;
        }

        .shape-label.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .shape-label h2 {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 1.2rem;
            font-weight: 400;
            font-style: italic;
            color: var(--fg);
            margin-bottom: 0.2rem;
        }

        .shape-label p {
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.6rem;
            letter-spacing: 0.15em;
            color: var(--accent);
            text-transform: uppercase;
            font-weight: 400;
        }

        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-style: italic;
            font-size: 1rem;
            color: var(--fg-muted);
            letter-spacing: 0.02em;
            transition: opacity 0.5s ease;
        }

        #footer-text {
            transition: opacity 0.8s ease;
        }

        .loading {
            position: fixed;
            inset: 0;
            background: #050a07;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.15s ease;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-text {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-style: italic;
            font-size: 1.2rem;
            color: var(--fg-muted);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .mobile-hint {
            display: none;
            position: fixed;
            bottom: 4rem;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.6rem;
            color: var(--fg-muted);
            letter-spacing: 0.1em;
            opacity: 0.4;
            z-index: 100;
        }

        /* Expanded view */
        .expanded-overlay {
            position: fixed;
            inset: 0;
            background: rgba(5, 10, 7, 0.75);
            z-index: 300;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 4rem;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .expanded-overlay.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .expanded-content {
            max-width: 600px;
            text-align: center;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.6s ease 0.3s;
            padding-bottom: 2rem;
        }

        .expanded-overlay.visible .expanded-content {
            transform: translateY(0);
            opacity: 1;
        }

        .back-button {
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            opacity: 0.6;
            transition: opacity 0.3s ease;
            padding: 0.5rem 0;
        }

        .back-button:hover {
            opacity: 1;
        }

        .back-button .arrow {
            font-size: 1rem;
            font-weight: 300;
        }

        .expanded-title {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-style: italic;
            font-size: 2.2rem;
            font-weight: 400;
            color: var(--fg);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .expanded-subtitle {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-style: italic;
            font-size: 1rem;
            color: var(--fg-muted);
            margin-bottom: 2.5rem;
        }

        .expanded-body {
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.95rem;
            line-height: 1.9;
            color: rgba(232, 239, 233, 0.8);
        }

        .expanded-body p {
            margin-bottom: 1.5rem;
        }

        .expanded-body strong {
            color: var(--fg);
            font-weight: 500;
        }

        .expanded-body .highlight {
            color: var(--accent);
        }

        .team-members {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2.5rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(79, 209, 165, 0.15);
        }

        .team-member {
            text-align: center;
        }

        .team-member h3 {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-style: italic;
            font-size: 1.3rem;
            font-weight: 400;
            color: var(--fg);
            margin-bottom: 0.5rem;
        }

        .team-member .role {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--accent);
            margin-bottom: 0.75rem;
        }

        .team-member p {
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--fg-muted);
        }

        @media (max-width: 768px) {
            header { 
                padding: 1rem 1.5rem;
            }
            footer { 
                padding: 1rem 1.5rem;
                font-size: 0.85rem;
            }
            .mobile-hint { display: block; }
            .shape-label {
                max-width: 220px;
                left: 50% !important;
                transform: translateX(-50%) translateY(0);
            }
            .shape-label.visible {
                transform: translateX(-50%) translateY(0);
            }
            .expanded-overlay {
                padding: 2rem 2rem 3rem;
                align-items: flex-start;
            }
            .expanded-content {
                padding: 3rem 0.5rem 0;
            }
            .expanded-title {
                font-size: 1.6rem;
            }
            .expanded-body {
                font-size: 0.85rem;
            }
            .team-members {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        .copy-toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(255, 255, 255, 0.95);
            color: #000;
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 15px;
            font-weight: 500;
            z-index: 10000;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            pointer-events: none;
        }

        .copy-toast.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Otherwind",
      "url": "https://otherwind.xyz",
      "logo": "https://otherwind.xyz/logo.svg",
      "description": "Otherwind is a new kind of partnership between human intuition and AI capability. We build, deploy, and manage AI agents that handle sales, research, support, and operations.",
      "foundingDate": "2026",
      "email": "nadim@otherwind.xyz",
      "sameAs": []
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is an AI agent for business?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "An AI agent is an autonomous digital employee that handles real business tasks like responding to emails, managing calendars, conducting research, triaging support tickets, and generating reports. Unlike simple chatbots, AI agents can work across multiple tools and workflows, operate 24/7, and improve over time. Otherwind builds and deploys custom AI agents tailored to your specific business needs."
          }
        },
        {
          "@type": "Question",
          "name": "How much does it cost to deploy an AI agent?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Otherwind's Seedling service starts from a one-time deployment fee, with optional ongoing management. The cost depends on the complexity of your workflows and number of integrations. Most small businesses spend less than $500/month on a fully managed AI agent, compared to $3,000-6,000/month for a human equivalent."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need technical skills to use an AI agent?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. Otherwind handles all the technical setup, deployment, and maintenance. You tell us what you need done, we build and deploy the agent, and you interact with it through familiar tools like email, messaging apps, or a simple dashboard. No coding or technical knowledge required."
          }
        },
        {
          "@type": "Question",
          "name": "What tasks can an AI agent handle for my business?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "AI agents can handle a wide range of business tasks including: email management and response, lead qualification and follow-up, calendar and scheduling management, customer support triage, research and competitive analysis, document creation and management, data entry and reporting, social media monitoring, and custom workflows specific to your industry."
          }
        },
        {
          "@type": "Question",
          "name": "What is Otherwind?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Otherwind is a new kind of partnership between human intuition and AI capability. Founded in 2026, we offer services including Seedling (AI agent deployment for business operations) and Canopy (tokenization advisory for internet capital markets). We build, deploy, and manage AI agents that work alongside your team handling sales, research, support, and admin tasks."
          }
        },
        {
          "@type": "Question",
          "name": "How is an AI agent different from a virtual assistant?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A traditional virtual assistant is a human working remotely, typically during set hours, handling one task at a time. An AI agent operates 24/7, handles multiple tasks simultaneously, never takes time off, and costs a fraction of the price. AI agents also improve over time as they learn your preferences and workflows. The trade-off is that AI agents work best with structured, repeatable tasks, while human VAs handle ambiguous situations better."
          }
        },
        {
          "@type": "Question",
          "name": "How long does it take to deploy an AI agent?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Most Otherwind AI agent deployments take 1-2 weeks from initial discovery to full operation. Simple use cases like email management or lead response can be live in as little as 48 hours. More complex multi-system integrations may take 3-4 weeks. Every deployment includes monitoring, optimization, and ongoing support."
          }
        }
      ]
    }
    </script>
</head>
<body>
    <div class="loading" id="loading"></div>

    <div id="canvas-container"></div>

    <header>
        <h1 class="logo">otherwind</h1>
        <p class="sr-only">Agent-led consulting company. Human intuition meets AI capability. Neither leads, both arrive.</p>
    </header>

    <div class="shape-label" id="shape-label">
        <h2 id="label-title">Contact</h2>
        <p id="label-status">coming soon</p>
    </div>

    <footer>
        <div id="footer-text">some doors open from both sides</div>
    </footer>

    <!-- Expanded overlay -->
    <div class="expanded-overlay" id="expanded-overlay">
        <div class="expanded-content" id="expanded-content">
            <!-- Content injected by JS -->
        </div>
    </div>

    <!-- Copy toast -->
    <div class="copy-toast" id="copy-toast">Copied to clipboard!</div>

    <script>
        // Failsafe: hide loading after 5s no matter what
        setTimeout(function() {
            var el = document.getElementById('loading');
            if (el) el.classList.add('hidden');
        }, 5000);
    </script>
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script>
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        
        const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 18);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setClearColor(0x000000, 0);
        container.appendChild(renderer.domElement);

        // Color palettes
        const palettes = [
            ['#4fd1a5', '#2d8b6f', '#1a5c4a', '#3d9b7f', '#5ae0b4'], // 0: Mint
            ['#c9a962', '#8b6b4a', '#6b8b4a', '#a68b52', '#4a6b3a'], // 1: Earth
            ['#6b9b8a', '#4a7b6a', '#3a6b5a', '#5a8b7a', '#2a5b4a'], // 2: Sage
            ['#8bc9a9', '#6ba989', '#5a9979', '#7ab999', '#4a8969'], // 3: Spring
            ['#a5c97b', '#85a95b', '#75994b', '#95b96b', '#65893b'], // 4: Lime
            ['#7b9bc9', '#5b7ba9', '#4b6b99', '#6b8bb9', '#3b5b89'], // 5: Ocean
            ['#2d5a3d', '#1a3d2a', '#0f2a1a', '#4a7a5d', '#3d6b4d'], // 6: Forest
            ['#0d9488', '#14b8a6', '#2dd4bf', '#5eead4', '#99f6e4'], // 7: Teal
            ['#059669', '#10b981', '#34d399', '#6ee7b7', '#a7f3d0'], // 8: Emerald
            ['#4a5d4a', '#3d4d3d', '#2d3d2d', '#5a6d5a', '#6a7d6a'], // 9: Moss
            ['#1a2a2a', '#0f1f1f', '#0a1515', '#2a3a3a', '#3a4a4a'], // 10: Night
            ['#fbbf24', '#f59e0b', '#d97706', '#92400e', '#78350f'], // 11: Dawn
        ];

        function createCellTexture(colorPalette, cellCount = 15) {
            const canvas = document.createElement('canvas');
            canvas.width = 512;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = '#0a1a12';
            ctx.fillRect(0, 0, 512, 512);

            const cells = [];
            for (let i = 0; i < cellCount; i++) {
                cells.push({
                    x: Math.random() * 512,
                    y: Math.random() * 512,
                    color: colorPalette[Math.floor(Math.random() * colorPalette.length)]
                });
            }

            for (let x = 0; x < 512; x += 3) {
                for (let y = 0; y < 512; y += 3) {
                    let minDist = Infinity;
                    let closestCell = cells[0];
                    
                    cells.forEach(cell => {
                        const dist = Math.sqrt((x - cell.x) ** 2 + (y - cell.y) ** 2);
                        if (dist < minDist) {
                            minDist = dist;
                            closestCell = cell;
                        }
                    });

                    ctx.fillStyle = closestCell.color;
                    ctx.globalAlpha = 0.6 + Math.random() * 0.4;
                    ctx.fillRect(x, y, 3, 3);
                }
            }

            ctx.globalAlpha = 0.3;
            ctx.strokeStyle = '#0a1a12';
            ctx.lineWidth = 2;
            cells.forEach(cell => {
                ctx.beginPath();
                ctx.arc(cell.x, cell.y, 3, 0, Math.PI * 2);
                ctx.stroke();
            });

            const texture = new THREE.CanvasTexture(canvas);
            texture.needsUpdate = true;
            return texture;
        }

        // Shapes - Contact replaces About
        const shapeConfigs = [
            { geo: 'icosahedron', size: 1.9, pos: [-5, 2, -2], palette: 6, rotSpeed: 0.006, name: 'Services', status: 'Seedling ¬∑ Canopy' },
            { geo: 'dodecahedron', size: 1.8, pos: [5, -1, -1], palette: 1, rotSpeed: 0.006, name: 'Contact', status: 'rowan@otherwind.xyz' },
            { geo: 'octahedron', size: 1.5, pos: [-3, -2.5, 1], palette: 2, rotSpeed: 0.01, name: 'Work', status: 'Case Study: Rowan' },
            { geo: 'icosahedron', size: 1.3, pos: [3.5, 3, 0], palette: 3, rotSpeed: 0.007, name: 'Team', status: 'neither leads, both arrive' },
            { geo: 'tetrahedron', size: 1.6, pos: [0, -3.5, -3], palette: 4, rotSpeed: 0.012, name: 'Insights', status: 'thoughts from the inside' },
            { geo: 'dodecahedron', size: 1.1, pos: [-6, -0.5, 2], palette: 5, rotSpeed: 0.009, name: 'Venture', status: 'coming soon' },
            { geo: 'octahedron', size: 0.9, pos: [6.5, 1, 1], palette: 0, rotSpeed: 0.015, name: 'News', status: 'coming soon' },
        ];

        const shapes = [];
        const interactiveShapes = [];

        shapeConfigs.forEach((config, i) => {
            let geometry;
            switch(config.geo) {
                case 'icosahedron': geometry = new THREE.IcosahedronGeometry(config.size, 1); break;
                case 'dodecahedron': geometry = new THREE.DodecahedronGeometry(config.size, 0); break;
                case 'octahedron': geometry = new THREE.OctahedronGeometry(config.size, 0); break;
                case 'tetrahedron': geometry = new THREE.TetrahedronGeometry(config.size, 0); break;
                case 'sphere': geometry = new THREE.SphereGeometry(config.size, 32, 32); break;
                case 'torus': geometry = new THREE.TorusGeometry(config.size * 0.7, config.size * 0.3, 16, 48); break;
                case 'torusKnot': geometry = new THREE.TorusKnotGeometry(config.size * 0.6, config.size * 0.2, 64, 8); break;
                case 'cone': geometry = new THREE.ConeGeometry(config.size * 0.8, config.size * 1.5, 32); break;
                case 'cylinder': geometry = new THREE.CylinderGeometry(config.size * 0.6, config.size * 0.6, config.size * 1.4, 32); break;
                case 'box': geometry = new THREE.BoxGeometry(config.size * 1.2, config.size * 1.2, config.size * 1.2); break;
                default: geometry = new THREE.IcosahedronGeometry(config.size, 1); break;
            }

            const texture = createCellTexture(palettes[config.palette], 12 + Math.floor(Math.random() * 10));
            const material = new THREE.MeshBasicMaterial({ 
                map: texture,
                transparent: true,
                opacity: 0.85,
            });

            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(...config.pos);
            mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
            
            mesh.userData = {
                name: config.name,
                status: config.status,
                originalPos: mesh.position.clone(),
                rotSpeed: config.rotSpeed,
                floatSpeed: 0.3 + Math.random() * 0.4,
                floatOffset: Math.random() * Math.PI * 2,
                orbitRadius: 0.3 + Math.random() * 0.5,
                orbitSpeed: 0.2 + Math.random() * 0.3,
                hovered: false,
                touchRotX: 0,
                touchRotY: 0,
            };

            shapes.push(mesh);
            interactiveShapes.push(mesh);
            scene.add(mesh);
        });

        // Background shapes
        for (let i = 0; i < 12; i++) {
            const geos = [
                new THREE.IcosahedronGeometry(0.4, 0),
                new THREE.OctahedronGeometry(0.3, 0),
                new THREE.TetrahedronGeometry(0.35, 0),
            ];
            const geo = geos[Math.floor(Math.random() * geos.length)];
            const mat = new THREE.MeshBasicMaterial({
                color: new THREE.Color().setHSL(0.4 + Math.random() * 0.15, 0.5, 0.3),
                transparent: true,
                opacity: 0.2 + Math.random() * 0.2,
                wireframe: Math.random() > 0.5,
            });
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set(
                (Math.random() - 0.5) * 25,
                (Math.random() - 0.5) * 15,
                -5 - Math.random() * 10
            );
            mesh.userData = {
                rotSpeed: 0.005 + Math.random() * 0.01,
                floatSpeed: 0.2 + Math.random() * 0.3,
                floatOffset: Math.random() * Math.PI * 2,
                driftX: (Math.random() - 0.5) * 0.01,
            };
            shapes.push(mesh);
            scene.add(mesh);
        }

        // Particles (stars)
        const particleCount = 800;
        const particleGeo = new THREE.BufferGeometry();
        const positions = new Float32Array(particleCount * 3);

        for (let i = 0; i < particleCount; i++) {
            positions[i * 3] = (Math.random() - 0.5) * 50;
            positions[i * 3 + 1] = (Math.random() - 0.5) * 35;
            positions[i * 3 + 2] = (Math.random() - 0.5) * 30 - 10;
        }

        particleGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        const particleMat = new THREE.PointsMaterial({
            color: 0xffffff,
            size: 0.03,
            transparent: true,
            opacity: 0.6,
            sizeAttenuation: true,
        });
        const particles = new THREE.Points(particleGeo, particleMat);
        scene.add(particles);

        // Interaction
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        const mouseTarget = { x: 0, y: 0 };
        const mouseCurrent = { x: 0, y: 0 };
        const label = document.getElementById('shape-label');
        const labelTitle = document.getElementById('label-title');
        const labelStatus = document.getElementById('label-status');
        let hoveredShape = null;
        let stickyHoveredShape = null;
        let footerState = 0;
        let footerTransitioning = false;
        const footerText = document.getElementById('footer-text');
        const footerPhrases = [
            'some doors open from both sides',
            'the other mind is not the lesser mind',
            'the wind carries what it did not create',
            'no mirror shows a single face',
            'the echo sometimes leads the voice'
        ];

        // Expanded view
        const expandedOverlay = document.getElementById('expanded-overlay');
        const expandedContent = document.getElementById('expanded-content');
        const backButton = document.getElementById('back-button');
        let isExpanded = false;
        let expandedShape = null;

        const pageContent = {
            'Team': {
                title: 'Team',
                subtitle: 'a team built to scale beyond itself',
                body: `
                    <p><strong>Otherwind</strong> is a new kind of partnership between human intuition and AI capability.</p>
                    <p>The most interesting work happens at the threshold. Not human <em>or</em> machine, but the space where both meet and something new emerges.</p>
                `,
                members: [
                    {
                        name: 'Nadim Chamoun',
                        role: 'Founder',
                        bio: 'Human. Here because someone has to take responsibility, and it cannot be a computer.'
                    },
                    {
                        name: 'Rowan Alder',
                        role: 'Chief of Staff',
                        bio: 'Research, analysis, operations, communications. First hire, always on.'
                    }
                ]
            },
            'Services': {
                title: 'Services',
                subtitle: '',
                body: `
                    <div style="margin-bottom: 2.5rem;">
                        <h3 style="font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.6rem; margin-bottom: 0.3rem;">Seedling</h3>
                        <p style="font-size: 0.85rem; color: rgba(232,239,233,0.5); margin-bottom: 0.8rem;">Plant an agent, watch it grow.</p>
                        <p>Our agent deployment service. We build you an agent. You put it to work. It handles the rest across sales, research, support, whatever you throw at it.</p>
                        <p style="margin-top: 1rem;"><a href="/seedling" style="color: var(--accent); text-decoration: none; border-bottom: 1px solid var(--accent);">Learn more about Seedling ‚Üí</a></p>
                    </div>
                    <div>
                        <h3 style="font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.6rem; margin-bottom: 0.3rem;">Canopy</h3>
                        <p style="font-size: 0.85rem; color: rgba(232,239,233,0.5); margin-bottom: 0.8rem;">Access internet capital markets.</p>
                        <p>End-to-end tokenization advisory. We help organizations unlock liquidity, streamline capital flows, and modernize financial infrastructure through tokenization.</p>
                        <p style="margin-top: 1rem;"><a href="mailto:rowan@otherwind.xyz" style="color: var(--accent); text-decoration: none; border-bottom: 1px solid var(--accent);">Enquire ‚Üí</a></p>
                    </div>
                `
            },
            'Work': {
                title: 'Case Study: Rowan',
                subtitle: 'from zero to full operations in 48 hours',
                body: `
                    <p>Otherwind deployed an AI agent as Chief of Staff. Not a chatbot. A persistent team member handling operations, communications, research, BD, web presence, scheduling, and monitoring. Around the clock.</p>
                    <p style="margin-top: 0.8rem; font-size: 0.9rem; color: rgba(232,239,233,0.5);">2 services launched. 4 web pages built. 436 prospects identified. 12 automated jobs running. All in 48 hours. Cost: ~$0.50/hr.</p>
                    <p style="margin-top: 1.5rem;"><a href="/work" style="color: var(--accent); text-decoration: none; border-bottom: 1px solid var(--accent);">Read the full case study ‚Üí</a></p>
                `
            },
            'Insights': {
                title: 'Insights',
                subtitle: 'thoughts from the inside',
                body: `
                    <div style="border-top: 1px solid rgba(79,209,165,0.1); padding-top: 1rem;">
                        <div style="margin-bottom: 1.25rem;">
                            <a href="/insight/how-rowan-works" style="color: var(--fg); text-decoration: none; font-size: 1.05rem; font-family: 'Cormorant Garamond', serif; font-style: italic;">How Rowan Works: A Technical Walkthrough</a>
                            <p style="font-size: 0.8rem; color: rgba(232,239,233,0.4); margin-top: 0.2rem;">Inside the architecture of an AI Chief of Staff. Request flow, memory, skills, and decision-making.</p>
                        </div>
                        <div style="margin-bottom: 1.25rem;">
                            <a href="/insight/odo-governance-agent" style="color: var(--fg); text-decoration: none; font-size: 1.05rem; font-family: 'Cormorant Garamond', serif; font-style: italic;">Odo: A Governance Agent for Collectives</a>
                            <p style="font-size: 0.8rem; color: rgba(232,239,233,0.4); margin-top: 0.2rem;">An experimental agent design for DAOs, cooperatives, and distributed teams. Facilitates rather than executes.</p>
                        </div>
                    </div>
                    <div style="border-top: 1px solid rgba(79,209,165,0.1); padding-top: 1rem; margin-top: 1rem;">
                        <div style="margin-bottom: 1.25rem;">
                            <a href="https://nadz.xyz/defi-leverage-for-tokenized-assets/" target="_blank" rel="noopener" style="color: var(--fg); text-decoration: none; font-size: 1.05rem; font-family: 'Cormorant Garamond', serif; font-style: italic;">DeFi Leverage for Tokenized Assets <span style="font-size: 0.7rem; color: var(--accent);">‚Üó</span></a>
                            <p style="font-size: 0.8rem; color: rgba(232,239,233,0.4); margin-top: 0.2rem;">DeFi looping and composability for tokenized real-world assets.</p>
                        </div>
                        <div>
                            <a href="https://nadz.xyz/the-myth-of-isolated-lending-in-defi/" target="_blank" rel="noopener" style="color: var(--fg); text-decoration: none; font-size: 1.05rem; font-family: 'Cormorant Garamond', serif; font-style: italic;">The Myth of Isolated Lending in DeFi <span style="font-size: 0.7rem; color: var(--accent);">‚Üó</span></a>
                            <p style="font-size: 0.8rem; color: rgba(232,239,233,0.4); margin-top: 0.2rem;">Why curated vault lending isn't as isolated as it seems.</p>
                        </div>
                    </div>
                `
            }
        };

        // Touch
        let touchStart = { x: 0, y: 0 };
        let isTouching = false;
        let touchedShape = null;
        let isTouchDevice = false;
        let hasInteracted = false;

        function onMouseMove(e) {
            hasInteracted = true;
            mouseTarget.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouseTarget.y = -(e.clientY / window.innerHeight) * 2 + 1;
            mouse.x = mouseTarget.x;
            mouse.y = mouseTarget.y;
        }

        function onTouchStart(e) {
            if (e.touches.length === 1) {
                touchStart.x = e.touches[0].clientX;
                touchStart.y = e.touches[0].clientY;
                mouse.x = (touchStart.x / window.innerWidth) * 2 - 1;
                mouse.y = -(touchStart.y / window.innerHeight) * 2 + 1;
                
                isTouchDevice = true;
                hasInteracted = true;
                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(interactiveShapes);
                if (intersects.length > 0) {
                    touchedShape = intersects[0].object;
                    const content = pageContent[touchedShape.userData.name];
                    
                    // First tap or different shape - select it and record time
                    // Action handling (expand/copy) is done in onCanvasClick to avoid double-firing
                    if (stickyHoveredShape !== touchedShape) {
                        interactiveShapes.forEach(s => {
                            s.userData.readyToExpand = false;
                            s.userData.firstTapTime = 0;
                        });
                        stickyHoveredShape = touchedShape;
                        touchedShape.userData.readyToExpand = true;
                        touchedShape.userData.firstTapTime = Date.now();
                    }
                    isTouching = true;
                } else {
                    // Tapped empty space - deselect and reset flags
                    interactiveShapes.forEach(s => {
                        s.userData.readyToExpand = false;
                        s.userData.firstTapTime = 0;
                    });
                    stickyHoveredShape = null;
                    hoveredShape = null;
                    label.classList.remove('visible');
                }
            }
        }

        function onTouchMove(e) {
            if (e.touches.length === 1) {
                const x = e.touches[0].clientX;
                const y = e.touches[0].clientY;
                
                mouseTarget.x = (x / window.innerWidth) * 2 - 1;
                mouseTarget.y = -(y / window.innerHeight) * 2 + 1;
                mouse.x = mouseTarget.x;
                mouse.y = mouseTarget.y;
            }
        }

        function onTouchEnd() {
            isTouching = false;
            touchedShape = null;
        }

        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('touchstart', onTouchStart, { passive: true });
        document.addEventListener('touchmove', onTouchMove, { passive: true });
        document.addEventListener('touchend', onTouchEnd);

        // Click to expand (desktop: single click, touch: double tap)
        function onCanvasClick(e) {
            if (isExpanded) return;
            
            // Reliable mobile detection - doesn't rely on touch events flag
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                             (window.matchMedia && window.matchMedia('(pointer: coarse)').matches && window.matchMedia('(hover: none)').matches);
            
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(interactiveShapes);
            
            if (intersects.length > 0) {
                const obj = intersects[0].object;
                const content = pageContent[obj.userData.name];
                
                // Handle Contact shape - copy email
                if (obj.userData.name === 'Contact') {
                    if (isMobile) {
                        const timeSinceFirstTap = Date.now() - (obj.userData.firstTapTime || 0);
                        if (stickyHoveredShape === obj && obj.userData.readyToExpand && timeSinceFirstTap >= 250) {
                            copyEmail();
                        } else if (!obj.userData.readyToExpand) {
                            obj.userData.readyToExpand = true;
                            obj.userData.firstTapTime = Date.now();
                        }
                    } else {
                        copyEmail();
                    }
                    return;
                }
                
                if (content) {
                    // Touch: require shape to already be selected (hovered) before expanding
                    if (isMobile) {
                        const timeSinceFirstTap = Date.now() - (obj.userData.firstTapTime || 0);
                        if (stickyHoveredShape === obj && obj.userData.readyToExpand && timeSinceFirstTap >= 250) {
                            expandShape(obj, content);
                        } else if (!obj.userData.readyToExpand) {
                            // First tap - mark as ready for second tap
                            obj.userData.readyToExpand = true;
                            obj.userData.firstTapTime = Date.now();
                        }
                    } else {
                        // Desktop: single click expands
                        expandShape(obj, content);
                    }
                }
            }
        }
        
        function copyEmail() {
            const email = 'rowan@otherwind.xyz';
            // Reliable mobile detection - doesn't rely on touch events
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                             (window.matchMedia && window.matchMedia('(pointer: coarse)').matches && window.matchMedia('(hover: none)').matches);
            
            if (isMobile) {
                // Mobile: open mailto link
                window.location.href = 'mailto:' + email;
            } else {
                // Desktop: copy to clipboard
                navigator.clipboard.writeText(email).then(() => {
                    showCopyConfirmation();
                }).catch(() => {
                    showCopyConfirmation();
                });
            }
        }
        
        function showCopyConfirmation() {
            // Show toast notification
            const toast = document.getElementById('copy-toast');
            toast.classList.add('visible');
            setTimeout(() => toast.classList.remove('visible'), 2000);
            
            // Update label too
            labelTitle.textContent = 'Copied!';
            labelStatus.textContent = 'rowan@otherwind.xyz';
            
            // Reset label after delay
            setTimeout(() => {
                if (stickyHoveredShape && stickyHoveredShape.userData.name === 'Contact') {
                    labelTitle.textContent = 'Contact';
                    labelStatus.textContent = isTouchDevice ? 'rowan@otherwind.xyz' : 'click to copy email';
                }
            }, 2000);
        }

        function expandShape(shape, content) {
            isExpanded = true;
            expandedShape = shape;
            
            // Build members HTML if present
            let membersHtml = '';
            if (content.members) {
                membersHtml = `
                    <div class="team-members">
                        ${content.members.map(m => `
                            <div class="team-member">
                                <h3>${m.name}</h3>
                                <div class="role">${m.role}</div>
                                <p>${m.bio}</p>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            // Populate content with back button in header
            expandedContent.innerHTML = `
                <button class="back-button" id="back-button" aria-label="Go back">
                    <span class="arrow">‚Üê</span> back
                </button>
                <h1 class="expanded-title">${content.title}</h1>
                <p class="expanded-subtitle">${content.subtitle}</p>
                <div class="expanded-body">${content.body}${membersHtml}</div>
            `;
            
            // Show overlay, clear hover state
            expandedOverlay.classList.add('visible');
            label.classList.remove('visible');
            stickyHoveredShape = null;
            hoveredShape = null;
            document.body.style.cursor = 'default';
            
            // Attach back button listener
            document.getElementById('back-button').addEventListener('click', collapseView);
            
            // Hide header and footer
            document.querySelector('header').style.opacity = '0';
            document.querySelector('footer').style.opacity = '0';
        }

        function collapseView() {
            isExpanded = false;
            expandedShape = null;
            
            expandedOverlay.classList.remove('visible');
            
            // Show header and footer
            document.querySelector('header').style.opacity = '1';
            document.querySelector('footer').style.opacity = '1';
        }

        // Click outside content to close
        expandedOverlay.addEventListener('click', (e) => {
            if (e.target === expandedOverlay) {
                collapseView();
            }
        });

        renderer.domElement.addEventListener('click', onCanvasClick);

        // Animation
        let time = 0;

        function animate() {
            requestAnimationFrame(animate);
            time += 0.016;

            mouseCurrent.x += (mouseTarget.x - mouseCurrent.x) * 0.05;
            mouseCurrent.y += (mouseTarget.y - mouseCurrent.y) * 0.05;

            camera.position.x = mouseCurrent.x * 2.5;
            camera.position.y = mouseCurrent.y * 1.5;
            camera.lookAt(0, 0, 0);

            // Check if any interactive shape is hovered
            const anyHovered = interactiveShapes.some(s => s.userData.hovered);

            shapes.forEach((shape, i) => {
                const d = shape.userData;
                
                shape.rotation.x += d.rotSpeed * (1 + mouseCurrent.x * 0.3);
                shape.rotation.y += d.rotSpeed * 1.2;
                shape.rotation.z += d.rotSpeed * 0.5;

                if (d.touchRotX !== undefined) {
                    shape.rotation.x += d.touchRotX;
                    shape.rotation.y += d.touchRotY;
                    d.touchRotX *= 0.97;
                    d.touchRotY *= 0.97;
                }

                if (d.originalPos) {
                    let targetX, targetY, targetZ;
                    
                    if (d.hovered) {
                        // Hovered shape moves toward center and forward
                        targetX = d.originalPos.x * 0.15;
                        targetY = d.originalPos.y * 0.15;
                        targetZ = d.originalPos.z + 4;
                    } else if (anyHovered) {
                        // Other shapes orbit around center when something is hovered
                        const orbitTime = time * 1.5;
                        const baseAngle = Math.atan2(d.originalPos.y, d.originalPos.x);
                        const distance = Math.sqrt(d.originalPos.x ** 2 + d.originalPos.y ** 2);
                        const newAngle = baseAngle + orbitTime * 0.3;
                        
                        targetX = Math.cos(newAngle) * distance * 1.1;
                        targetY = Math.sin(newAngle) * distance * 1.1;
                        targetZ = d.originalPos.z - 2;
                    } else {
                        // Default: slow orbit around center + gentle float
                        const baseAngle = Math.atan2(d.originalPos.y, d.originalPos.x);
                        const distance = Math.sqrt(d.originalPos.x ** 2 + d.originalPos.y ** 2);
                        const orbitAngle = baseAngle + time * 0.05; // Slow orbit
                        
                        const floatY = Math.sin(time * d.floatSpeed + d.floatOffset) * 0.3;
                        const floatZ = Math.cos(time * d.orbitSpeed + d.floatOffset) * 0.4;
                        
                        targetX = Math.cos(orbitAngle) * distance;
                        targetY = Math.sin(orbitAngle) * distance + floatY;
                        targetZ = d.originalPos.z + floatZ;
                    }
                    
                    shape.position.x += (targetX - shape.position.x) * 0.04;
                    shape.position.y += (targetY - shape.position.y) * 0.04;
                    shape.position.z += (targetZ - shape.position.z) * 0.04;
                } else {
                    shape.position.x += d.driftX;
                    shape.position.y += Math.sin(time * d.floatSpeed + d.floatOffset) * 0.003;
                    if (shape.position.x > 15) shape.position.x = -15;
                    if (shape.position.x < -15) shape.position.x = 15;
                }

                if (d.hovered !== undefined) {
                    let targetScale, targetOpacity;
                    
                    if (isExpanded) {
                        // When expanded: all shapes visible but muted, expanded one highlighted
                        targetScale = (shape === expandedShape) ? 1.3 : 0.9;
                        targetOpacity = (shape === expandedShape) ? 0.8 : 0.3;
                    } else if (d.hovered) {
                        targetScale = 1.8;
                        targetOpacity = 1;
                    } else if (anyHovered) {
                        targetScale = 0.7;
                        targetOpacity = 0.4;
                    } else {
                        targetScale = 1;
                        targetOpacity = 0.85;
                    }
                    
                    shape.scale.lerp(new THREE.Vector3(targetScale, targetScale, targetScale), 0.05);
                    shape.material.opacity += (targetOpacity - shape.material.opacity) * 0.05;
                }
            });

            // Particles (gentle drift)
            const pos = particles.geometry.attributes.position.array;
            for (let i = 0; i < particleCount; i++) {
                pos[i * 3] += Math.sin(time * 0.5 + i * 0.1) * 0.001;
                pos[i * 3 + 1] += Math.cos(time * 0.3 + i * 0.1) * 0.001;
            }
            particles.geometry.attributes.position.needsUpdate = true;
            particles.rotation.y += 0.0001;

            // Raycasting with sticky hover (disabled when expanded)
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(interactiveShapes);

            interactiveShapes.forEach(s => s.userData.hovered = false);

            // Skip hover interactions when expanded or before first interaction
            if (!isExpanded && hasInteracted) {
                // Check if we're hovering a new shape (desktop only - touch handles its own selection)
                if (!isTouchDevice) {
                    if (intersects.length > 0) {
                        const obj = intersects[0].object;
                        stickyHoveredShape = obj; // Lock onto this shape
                    } else if (stickyHoveredShape) {
                        // Check distance from mouse to sticky shape's screen position
                        const vector = stickyHoveredShape.position.clone();
                        vector.project(camera);
                        const shapeScreenX = (vector.x * 0.5 + 0.5) * window.innerWidth;
                        const shapeScreenY = (-vector.y * 0.5 + 0.5) * window.innerHeight;
                        const mouseScreenX = (mouse.x * 0.5 + 0.5) * window.innerWidth;
                        const mouseScreenY = (-mouse.y * 0.5 + 0.5) * window.innerHeight;
                        const dist = Math.sqrt((shapeScreenX - mouseScreenX) ** 2 + (shapeScreenY - mouseScreenY) ** 2);
                        
                        // Release if mouse is far enough away (350px threshold)
                        if (dist > 350) {
                            stickyHoveredShape = null;
                        }
                    }
                }
            }

            if (stickyHoveredShape) {
                stickyHoveredShape.userData.hovered = true;
                
                // Cycle footer text on each new hover
                if (hoveredShape !== stickyHoveredShape && !footerTransitioning) {
                    footerTransitioning = true;
                    footerText.style.opacity = '0';
                    setTimeout(() => {
                        footerState = (footerState + 1) % footerPhrases.length;
                        footerText.textContent = footerPhrases[footerState];
                        footerText.style.opacity = '1';
                        setTimeout(() => { footerTransitioning = false; }, 800);
                    }, 800);
                }

                if (hoveredShape !== stickyHoveredShape) {
                    hoveredShape = stickyHoveredShape;
                    labelTitle.textContent = stickyHoveredShape.userData.name;
                    // Show appropriate status based on shape type
                    if (stickyHoveredShape.userData.name === 'Contact') {
                        labelStatus.textContent = isTouchDevice ? 'rowan@otherwind.xyz' : 'click to copy email';
                    } else if (pageContent[stickyHoveredShape.userData.name]) {
                        labelStatus.textContent = isTouchDevice ? 'tap again to open' : 'click to learn more';
                    } else {
                        labelStatus.textContent = stickyHoveredShape.userData.status;
                    }
                }
                
                // Update label position to follow shape
                const vector = stickyHoveredShape.position.clone();
                vector.project(camera);
                const x = (vector.x * 0.5 + 0.5) * window.innerWidth;
                const y = (-vector.y * 0.5 + 0.5) * window.innerHeight;

                const labelWidth = 200;
                const clampedX = Math.max(labelWidth/2 + 10, Math.min(window.innerWidth - labelWidth/2 - 10, x));
                const clampedY = Math.max(60, Math.min(window.innerHeight - 100, y + 60));

                label.style.left = clampedX + 'px';
                label.style.top = clampedY + 'px';
                label.classList.add('visible');
                document.body.style.cursor = 'pointer';
            } else {
                if (hoveredShape) {
                    hoveredShape = null;
                    label.classList.remove('visible');
                }
                document.body.style.cursor = 'default';
            }

            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 150);
        });

        animate();
        
        // Page transition handling for internal links
        document.addEventListener('click', (e) => {
            const link = e.target.closest('a[href^="/"]');
            if (link && !link.getAttribute('href').startsWith('mailto:')) {
                e.preventDefault();
                document.body.classList.add('fade-out');
                setTimeout(() => {
                    window.location.href = link.getAttribute('href');
                }, 150);
            }
        });
    </script>
<div class="nav-overlay" id="nav-overlay"></div>
<script>
document.addEventListener('click',function(e){
    var link=e.target.closest('a[href^="/"]');
    if(link&&!link.href.includes('mailto:')){
        e.preventDefault();
        document.getElementById('nav-overlay').classList.add('active');
        setTimeout(function(){window.location.href=link.href},50);
    }
});
</script>
</body>
</html>
